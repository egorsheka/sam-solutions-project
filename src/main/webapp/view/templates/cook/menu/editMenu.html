<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head th:replace="fragments/header :: header-menu"></head>
    <body>
        <div th:replace="fragments/cookNavbar :: cookNavbar"></div>

        <form action="#" th:action="@{/editMenu}" th:object="${editMenu}" method="post">
            <div class="container-new-menu">

                <input type="hidden" th:value="${editMenu.id}" name="id">
                <input type="text" th:value="${editMenu.name}" name="name" class="form-control menu-name"
                       placeholder="menu title"/>


                <div class="advice-block text-center please-fill-the-sections">Please fill the sections below.</div>


                <div class="card new-menu-card">
                    <label style="margin-left: 18px; margin-top: 10px;">Price</label>
                    <p></p>
                    <label style="margin-left: 18px;">The price includes : your time, travel expenses, the cooking, the
                        ingredients,
                        the service and the cleaning.
                        <br/>
                        La Belle Assiette will deduct a 25% commission on the total amount of each booking
                    </label>
                    <div class="card-body">
                        <label>Please choose a price per guest</label>
                        <div class="row">
                            <div class="custom-control" style="margin-top: 15px; margin-left: 26px;">
                                <div class="custom-control-inline">
                                    <label class="form-check-label">
                                    </label>
                                    <input type="text" th:value="${editMenu.price}" th:name="price" class="form-control"
                                           placeholder="price"
                                           style="width: 70px; margin-left: 5px; margin-right: 2px; position: relative; bottom: 8px"/>
                                    <label class="form-check-label">руб.</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="card new-menu-card">
                    <label style="margin-left: 18px; margin-top: 10px;">Menu composition</label>
                    <p></p>
                    <div class="yellow">
                        <label style="margin-left: 18px;">Given the selected price, we recommend that you have a course
                            menu:
                        </label>
                        <ul style="margin-left: 40px;">
                            <li>Appetizer</li>
                            <li>Main Course</li>
                            <li>Dessert</li>
                        </ul>
                    </div>

                    <div class="card-body">
                        <div class="row" style=" display: table-cell;" id="parent-dish">


                            <div class="card dish-card" th:each="dish, item : ${editMenu.dishes}">

                                <div class="row type-of-dish">
                                    <label style="margin-left: 30px; margin-top: 10px;">Menu courses</label>
                                    <select th:field="${editMenu.dishes[__${item.index}__].dishType}"
                                            class="form-control"
                                            style="width: 130px; margin-left: 10px">
                                        <option th:each="type : ${allTypesDish}" th:value="${type}"
                                                th:text="#{${'text.type.' + type}}"
                                                th:selected="${type == editMenu.dishes[item.index].dishType}"></option>
                                    </select>
                                    <button class="btn" style="width: 30px; margin-left: 600px" th:value="${item.index}"
                                            name="removeEditDish">
                                        <i class="far fa-trash-alt"></i>
                                    </button>


                                </div>


                                <div class="card-body dish-card-body">

                                    <input type="text" class="form-control" placeholder="dish title"
                                           th:field="*{dishes[__${item.index}__].name}"

                                           style="font-size: 16px; width: 54rem;"/>

                                    <input type="hidden" class="form-control" placeholder="dish title"
                                           th:field="*{dishes[__${item.index}__].id}"/>

                                    <label style="margin-top: 10px;">Type of cuisine</label>

                                    <div>
                                        <select th:field="${editMenu.dishes[__${item.index}__].cuisine.id}"
                                                class="form-control"
                                                style="width: 130px; margin-left: 10px">
                                            <option th:each="cuisine : ${allCuisines}" th:value="${cuisine.id}"
                                                    th:text="${cuisine.name}"
                                                    th:selected="${cuisine.name == editMenu.dishes[item.index].cuisine.name}"></option>
                                        </select>
                                    </div>

                                </div>

                            </div>


                            <div class="card dish-card">
                            </div>


                            <div class="row justify-content-center">
                                <button type="submit" name="addEditDish" class="btn btn-classic save"
                                        style="display: inline-block; margin-top: 30px; background-color: #333333">ADD ONE MORE DISH
                                </button>
                            </div>

                        </div>

                    </div>

                </div>


                <div class="row justify-content-center">
                    <button class="btn btn-classic save" type="submit" name="saveEditMenu"
                            style="display: inline-block; margin-top: 20px">SAVE
                    </button>
                </div>

            </div>
        </form>
    </body>
</html>











